import React, { useState } from 'react';
import { ethers } from 'ethers';

function Button() {
    const [account, setAccount] = useState(null);
    const [balance, setBalance] = useState(null);

    const connectToMetaMask = async () => {
        try {
            // Connect to MetaMask
            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
            setAccount(accounts[0]);

            // Get balance
            const balanceWei = await window.ethereum.request({
                method: 'eth_getBalance',
                params: [accounts[0], 'latest'],
            });

            // Convert and format balance
            const balanceEth = ethers.utils.formatEther(balanceWei);
            setBalance(balanceEth);
        } catch (error) {
            console.error('Error connecting to MetaMask:', error);
        }
    };

    return (
        <div>
            <div className='bg-black'>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#f3f4f5" fill-opacity="1" d="M0,32L10.9,74.7C21.8,117,44,203,65,213.3C87.3,224,109,160,131,133.3C152.7,107,175,117,196,138.7C218.2,160,240,192,262,181.3C283.6,171,305,117,327,128C349.1,139,371,213,393,245.3C414.5,277,436,267,458,261.3C480,256,502,256,524,224C545.5,192,567,128,589,133.3C610.9,139,633,213,655,234.7C676.4,256,698,224,720,213.3C741.8,203,764,213,785,208C807.3,203,829,181,851,154.7C872.7,128,895,96,916,85.3C938.2,75,960,85,982,90.7C1003.6,96,1025,96,1047,101.3C1069.1,107,1091,117,1113,117.3C1134.5,117,1156,107,1178,106.7C1200,107,1222,117,1244,117.3C1265.5,117,1287,107,1309,96C1330.9,85,1353,75,1375,80C1396.4,85,1418,107,1429,117.3L1440,128L1440,0L1429.1,0C1418.2,0,1396,0,1375,0C1352.7,0,1331,0,1309,0C1287.3,0,1265,0,1244,0C1221.8,0,1200,0,1178,0C1156.4,0,1135,0,1113,0C1090.9,0,1069,0,1047,0C1025.5,0,1004,0,982,0C960,0,938,0,916,0C894.5,0,873,0,851,0C829.1,0,807,0,785,0C763.6,0,742,0,720,0C698.2,0,676,0,655,0C632.7,0,611,0,589,0C567.3,0,545,0,524,0C501.8,0,480,0,458,0C436.4,0,415,0,393,0C370.9,0,349,0,327,0C305.5,0,284,0,262,0C240,0,218,0,196,0C174.5,0,153,0,131,0C109.1,0,87,0,65,0C43.6,0,22,0,11,0L0,0Z"></path></svg>
                <h1 className='text-center bg-black text-rose-300 text-8xl font-bold '>The Mintables Game</h1>
                <div className='flex justify-center items-center  bg-black'>

                    {account ? (
                        <div className='text-orange-600 border-4 p-4 mt-10 bg-orange-100 rounded-lg font-semibold '>
                            <p>Connected Account: {account}</p>
                            {/* <p>Balance: {balance} ETH</p> */}
                        </div>
                    ) : (
                        <button onClick={connectToMetaMask} className='text-orange-600 bg-orange-100 p-4 border-4 font-semibold rounded-lg mt-10'>
                            Connect to MetaMask
                        </button>
                    )}
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#f3f4f5" fill-opacity="1" d="M0,32L10.9,74.7C21.8,117,44,203,65,213.3C87.3,224,109,160,131,133.3C152.7,107,175,117,196,138.7C218.2,160,240,192,262,181.3C283.6,171,305,117,327,128C349.1,139,371,213,393,245.3C414.5,277,436,267,458,261.3C480,256,502,256,524,224C545.5,192,567,128,589,133.3C610.9,139,633,213,655,234.7C676.4,256,698,224,720,213.3C741.8,203,764,213,785,208C807.3,203,829,181,851,154.7C872.7,128,895,96,916,85.3C938.2,75,960,85,982,90.7C1003.6,96,1025,96,1047,101.3C1069.1,107,1091,117,1113,117.3C1134.5,117,1156,107,1178,106.7C1200,107,1222,117,1244,117.3C1265.5,117,1287,107,1309,96C1330.9,85,1353,75,1375,80C1396.4,85,1418,107,1429,117.3L1440,128L1440,320L1429.1,320C1418.2,320,1396,320,1375,320C1352.7,320,1331,320,1309,320C1287.3,320,1265,320,1244,320C1221.8,320,1200,320,1178,320C1156.4,320,1135,320,1113,320C1090.9,320,1069,320,1047,320C1025.5,320,1004,320,982,320C960,320,938,320,916,320C894.5,320,873,320,851,320C829.1,320,807,320,785,320C763.6,320,742,320,720,320C698.2,320,676,320,655,320C632.7,320,611,320,589,320C567.3,320,545,320,524,320C501.8,320,480,320,458,320C436.4,320,415,320,393,320C370.9,320,349,320,327,320C305.5,320,284,320,262,320C240,320,218,320,196,320C174.5,320,153,320,131,320C109.1,320,87,320,65,320C43.6,320,22,320,11,320L0,320Z"></path></svg>



            </div>

        </div>
    );
}

export default Button;
